import"./disclose-version.DsnmJJEf.js";import{g as j,c as B}from"./functions.CccWKVqC.js";import{b as q,c as z,d as A}from"./props.Cj-u1ASz.js";import{I as D,U as K,$ as p,V as L,o as R,K as y,v,C as b,a6 as P,M as U,q as V,y as T,a7 as $,z as G,a8 as J,H as Q,A as W,w as O,B as I,t as X,a9 as Z,aa as x,D as ee,a0 as se,ab as ae,ac as te,ad as k,ae as re,x as m,af as E,ag as M,b as g,p as ie,c as ne,g as h,ah as N,i as fe,ai as oe,e as ce,r as le,aj as he,f as de}from"./utils.DpvoMRHq.js";class ue{anchor;#s=new Map;#a=new Map;#e=new Map;#t=new Set;#r=!0;constructor(i,a=!0){this.anchor=i,this.#r=a}#i=()=>{var i=D;if(this.#s.has(i)){var a=this.#s.get(i),e=this.#a.get(a);if(e)K(e),this.#t.delete(a);else{var f=this.#e.get(a);f&&(this.#a.set(a,f.effect),this.#e.delete(a),f.fragment.lastChild.remove(),this.anchor.before(f.fragment),e=f.effect)}for(const[r,s]of this.#s){if(this.#s.delete(r),r===i)break;const n=this.#e.get(s);n&&(p(n.effect),this.#e.delete(s))}for(const[r,s]of this.#a){if(r===a||this.#t.has(r))continue;const n=()=>{if(Array.from(this.#s.values()).includes(r)){var c=document.createDocumentFragment();P(s,c),c.append(R()),this.#e.set(r,{effect:s,fragment:c})}else p(s);this.#t.delete(r),this.#a.delete(r)};this.#r||!e?(this.#t.add(r),L(s,n,!1)):n()}}};#n=i=>{this.#s.delete(i);const a=Array.from(this.#s.values());for(const[e,f]of this.#e)a.includes(e)||(p(f.effect),this.#e.delete(e))};ensure(i,a){var e=D,f=U();if(a&&!this.#a.has(i)&&!this.#e.has(i))if(f){var r=document.createDocumentFragment(),s=R();r.append(s),this.#e.set(i,{effect:y(()=>a(s)),fragment:r})}else this.#a.set(i,y(()=>a(this.anchor)));if(this.#s.set(e,i),f){for(const[n,t]of this.#a)n===i?e.unskip_effect(t):e.skip_effect(t);for(const[n,t]of this.#e)n===i?e.unskip_effect(t.effect):e.skip_effect(t.effect);e.oncommit(this.#i),e.ondiscard(this.#n)}else v&&(this.anchor=b),this.#i()}}function S(d,i,a=!1){v&&T();var e=new ue(d),f=a?$:0;function r(s,n){if(v){const l=G(d);var t;if(l===J?t=0:l===Q?t=!1:t=parseInt(l.substring(1)),s!==t){var c=W();O(c),e.anchor=c,I(!1),e.ensure(s,n),I(!0);return}}e.ensure(s,n)}V(()=>{var s=!1;i((n,t=0)=>{s=!0,r(t,n)}),s||r(!1,null)},f)}function _e(d,i,a=!1,e=!1,f=!1){var r=d,s="";X(()=>{var n=Z;if(s===(s=i()??"")){v&&T();return}if(n.nodes!==null&&(x(n.nodes.start,n.nodes.end),n.nodes=null),s!==""){if(v){b.data;for(var t=T(),c=t;t!==null&&(t.nodeType!==ee||t.data!=="");)c=t,t=se(t);if(t===null)throw ae(),te;k(b,c),r=O(t);return}var l=s+"";a?l=`<svg>${l}</svg>`:e&&(l=`<math>${l}</math>`);var o=re(l);if((a||e)&&(o=m(o)),k(m(o),o.lastChild),a||e)for(;m(o);)r.before(m(o));else r.before(o)}})}var ve=he("<svg><!></svg>"),me=de("<span></span>");function we(d,i){ne(i,!0);const a={name:"",loading:null,destroyed:!1},e=z(i,["$$slots","$$events","$$legacy"]);let f=fe(0),r=N(()=>(h(f),B(i.icon,a,n,i.onload))),s=N(()=>{const o=h(r)?j(h(r).data,e):null;return o&&h(r).classes&&e.class===void 0&&(o.attributes.class=(typeof e.class=="string"?e.class+" ":"")+h(r).classes.join(" ")),o});function n(){oe(f)}q(()=>{a.destroyed=!0,a.loading&&(a.loading.abort(),a.loading=null)});var t=E(),c=M(t);{var l=o=>{var w=E(),C=M(w);{var F=_=>{var u=ve();A(u,()=>({...h(s).attributes}));var Y=ce(u);_e(Y,()=>h(s).body,!0),le(u),g(_,u)},H=_=>{var u=me();A(u,()=>({...h(s).attributes})),g(_,u)};S(C,_=>{h(s).svg?_(F):_(H,!1)})}g(o,w)};S(c,o=>{h(s)&&o(l)})}g(d,t),ie()}export{we as I,_e as h};
