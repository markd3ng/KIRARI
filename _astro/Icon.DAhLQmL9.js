import"./disclose-version.DsnmJJEf.js";import{g as z,c as B}from"./functions.CccWKVqC.js";import{b as L,c as P,d as R}from"./props.Bf_PjiMt.js";import{v as A,W as j,a1 as p,X as q,x as w,M as y,q as v,G as b,al as G,O as Q,y as W,B as T,az as X,C as J,aD as K,H as U,D as V,z as S,F as E,t as Z,ai as $,aM as x,I as ee,a2 as se,aL as ae,aE as te,ae as I,ad as re,A as m,aN as k,aO as M,b as g,c as ie,e as ne,g as h,aP as N,s as fe,aQ as oe,i as ce,r as le,aR as he,h as de}from"./utils.A_Fv7MTT.js";class ue{anchor;#s=new Map;#a=new Map;#e=new Map;#t=new Set;#r=!0;constructor(i,a=!0){this.anchor=i,this.#r=a}#i=()=>{var i=A;if(this.#s.has(i)){var a=this.#s.get(i),e=this.#a.get(a);if(e)j(e),this.#t.delete(a);else{var f=this.#e.get(a);f&&(this.#a.set(a,f.effect),this.#e.delete(a),f.fragment.lastChild.remove(),this.anchor.before(f.fragment),e=f.effect)}for(const[r,s]of this.#s){if(this.#s.delete(r),r===i)break;const n=this.#e.get(s);n&&(p(n.effect),this.#e.delete(s))}for(const[r,s]of this.#a){if(r===a||this.#t.has(r))continue;const n=()=>{if(Array.from(this.#s.values()).includes(r)){var c=document.createDocumentFragment();G(s,c),c.append(w()),this.#e.set(r,{effect:s,fragment:c})}else p(s);this.#t.delete(r),this.#a.delete(r)};this.#r||!e?(this.#t.add(r),q(s,n,!1)):n()}}};#n=i=>{this.#s.delete(i);const a=Array.from(this.#s.values());for(const[e,f]of this.#e)a.includes(e)||(p(f.effect),this.#e.delete(e))};ensure(i,a){var e=A,f=Q();if(a&&!this.#a.has(i)&&!this.#e.has(i))if(f){var r=document.createDocumentFragment(),s=w();r.append(s),this.#e.set(i,{effect:y(()=>a(s)),fragment:r})}else this.#a.set(i,y(()=>a(this.anchor)));if(this.#s.set(e,i),f){for(const[n,t]of this.#a)n===i?e.unskip_effect(t):e.skip_effect(t);for(const[n,t]of this.#e)n===i?e.unskip_effect(t.effect):e.skip_effect(t.effect);e.oncommit(this.#i),e.ondiscard(this.#n)}else v&&(this.anchor=b),this.#i()}}function O(d,i,a=!1){v&&T();var e=new ue(d),f=a?X:0;function r(s,n){if(v){const l=J(d);var t;if(l===K?t=0:l===U?t=!1:t=parseInt(l.substring(1)),s!==t){var c=V();S(c),e.anchor=c,E(!1),e.ensure(s,n),E(!0);return}}e.ensure(s,n)}W(()=>{var s=!1;i((n,t=0)=>{s=!0,r(t,n)}),s||r(!1,null)},f)}function _e(d,i,a=!1,e=!1,f=!1){var r=d,s="";Z(()=>{var n=$;if(s===(s=i()??"")){v&&T();return}if(n.nodes!==null&&(x(n.nodes.start,n.nodes.end),n.nodes=null),s!==""){if(v){b.data;for(var t=T(),c=t;t!==null&&(t.nodeType!==ee||t.data!=="");)c=t,t=se(t);if(t===null)throw ae(),te;I(b,c),r=S(t);return}var l=s+"";a?l=`<svg>${l}</svg>`:e&&(l=`<math>${l}</math>`);var o=re(l);if((a||e)&&(o=m(o)),I(m(o),o.lastChild),a||e)for(;m(o);)r.before(m(o));else r.before(o)}})}var ve=he("<svg><!></svg>"),me=de("<span></span>");function De(d,i){ne(i,!0);const a={name:"",loading:null,destroyed:!1},e=P(i,["$$slots","$$events","$$legacy"]);let f=fe(0),r=N(()=>(h(f),B(i.icon,a,n,i.onload))),s=N(()=>{const o=h(r)?z(h(r).data,e):null;return o&&h(r).classes&&e.class===void 0&&(o.attributes.class=(typeof e.class=="string"?e.class+" ":"")+h(r).classes.join(" ")),o});function n(){oe(f)}L(()=>{a.destroyed=!0,a.loading&&(a.loading.abort(),a.loading=null)});var t=k(),c=M(t);{var l=o=>{var D=k(),C=M(D);{var F=_=>{var u=ve();R(u,()=>({...h(s).attributes}));var Y=ce(u);_e(Y,()=>h(s).body,!0),le(u),g(_,u)},H=_=>{var u=me();R(u,()=>({...h(s).attributes})),g(_,u)};O(C,_=>{h(s).svg?_(F):_(H,!1)})}g(o,D)};O(c,o=>{h(s)&&o(l)})}g(d,t),ie()}export{De as I,_e as h};
