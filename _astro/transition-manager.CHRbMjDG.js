const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/index.modern.GJWGNkvs.js","_astro/Swup.modern.pnUYelFD.js"])))=>i.map(i=>d[i]);
const E=(function(){const t=typeof document<"u"&&document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"})(),v=function(l){return"/"+l},f={},w=function(t,e,n){let u=Promise.resolve();if(e&&e.length>0){let h=function(s){return Promise.all(s.map(a=>Promise.resolve(a).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),o=r?.nonce||r?.getAttribute("nonce");u=h(e.map(s=>{if(s=v(s),s in f)return;f[s]=!0;const a=s.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${c}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":E,a||(i.as="script"),i.crossOrigin="",i.href=s,o&&i.setAttribute("nonce",o),document.head.appendChild(i),a)return new Promise((m,g)=>{i.addEventListener("load",m),i.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${s}`)))})}))}function d(r){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r}return u.then(r=>{for(const o of r||[])o.status==="rejected"&&d(o.reason);return t().catch(d)})},p=typeof document<"u"&&"startViewTransition"in document;class S{listeners=new Map;swupInstance=null;initialized=!1;constructor(){["transition:start","transition:before-swap","transition:after-swap","transition:end"].forEach(e=>{this.listeners.set(e,new Set)})}on(t,e){const n=this.listeners.get(t);return n&&n.add(e),()=>{n?.delete(e)}}emit(t,e){const n=this.listeners.get(t);n&&n.forEach(u=>{try{u(e)}catch(d){console.error(`Error in transition event handler for ${t}:`,d)}})}async init(){this.initialized||(this.initialized=!0,p?(console.log("[TransitionManager] Using native View Transitions API"),this.setupAstroClientRouter()):(console.log("[TransitionManager] View Transitions not supported, loading Swup fallback"),await this.setupSwupFallback()))}setupAstroClientRouter(){document.addEventListener("astro:before-preparation",t=>{const e={from:t.from?.href,to:t.to?.href,direction:t.direction};this.emit("transition:start",e)}),document.addEventListener("astro:before-swap",t=>{const e={from:t.from?.href,to:t.to?.href,direction:t.direction};this.emit("transition:before-swap",e)}),document.addEventListener("astro:after-swap",()=>{const t={to:window.location.href};this.emit("transition:after-swap",t)}),document.addEventListener("astro:page-load",()=>{const t={to:window.location.href};this.emit("transition:end",t)})}async setupSwupFallback(){try{const[{default:t},{default:e}]=await Promise.all([w(()=>import("./Swup.modern.pnUYelFD.js"),[]),w(()=>import("./index.modern.GJWGNkvs.js"),__vite__mapDeps([0,1]))]);this.swupInstance=new t({animationSelector:'[class*="transition-swup-"]',containers:["main","#toc"],cache:!0,plugins:[new e]}),this.swupInstance.hooks.on("visit:start",n=>{this.emit("transition:start",{from:n.from?.url,to:n.to?.url})}),this.swupInstance.hooks.on("content:replace",()=>{this.emit("transition:before-swap",{to:window.location.href})}),this.swupInstance.hooks.on("page:view",()=>{this.emit("transition:after-swap",{to:window.location.href})}),this.swupInstance.hooks.on("visit:end",n=>{this.emit("transition:end",{to:n.to?.url})}),window.swup=this.swupInstance,document.dispatchEvent(new CustomEvent("swup:enable")),console.log("[TransitionManager] Swup fallback initialized")}catch(t){console.error("[TransitionManager] Failed to load Swup fallback:",t)}}isUsingViewTransitions(){return p}isUsingSwup(){return!p&&this.swupInstance!==null}getSwupInstance(){return this.swupInstance}}const b=new S;export{w as _,p as s,b as t};
