import"./disclose-version.DsnmJJEf.js";import{g as L,c as Y}from"./functions.CccWKVqC.js";import{b as j,c as q,d as w}from"./props.DI1fZuey.js";import{I as T,S as z,_ as g,T as K,n as D,K as A,v,C as b,a4 as P,L as W,o as G,x as y,a5 as J,z as Q,H as U,A as V,q as C,B as E,t as X,a6 as Z,a7 as $,D as x,W as ee,a8 as se,a9 as ae,aa as R,ab as te,w as m,ac as I,ad as S,b as p,p as re,c as ie,g as d,ae as M,i as ne,af as fe,ag as oe,e as ce,r as de,f as le}from"./utils.DuDGWVWQ.js";class he{anchor;#s=new Map;#a=new Map;#e=new Map;#t=new Set;#r=!0;constructor(r,a=!0){this.anchor=r,this.#r=a}#i=()=>{var r=T;if(this.#s.has(r)){var a=this.#s.get(r),e=this.#a.get(a);if(e)z(e),this.#t.delete(a);else{var f=this.#e.get(a);f&&(this.#a.set(a,f.effect),this.#e.delete(a),f.fragment.lastChild.remove(),this.anchor.before(f.fragment),e=f.effect)}for(const[t,s]of this.#s){if(this.#s.delete(t),t===r)break;const n=this.#e.get(s);n&&(g(n.effect),this.#e.delete(s))}for(const[t,s]of this.#a){if(t===a||this.#t.has(t))continue;const n=()=>{if(Array.from(this.#s.values()).includes(t)){var c=document.createDocumentFragment();P(s,c),c.append(D()),this.#e.set(t,{effect:s,fragment:c})}else g(s);this.#t.delete(t),this.#a.delete(t)};this.#r||!e?(this.#t.add(t),K(s,n,!1)):n()}}};#n=r=>{this.#s.delete(r);const a=Array.from(this.#s.values());for(const[e,f]of this.#e)a.includes(e)||(g(f.effect),this.#e.delete(e))};ensure(r,a){var e=T,f=W();if(a&&!this.#a.has(r)&&!this.#e.has(r))if(f){var t=document.createDocumentFragment(),s=D();t.append(s),this.#e.set(r,{effect:A(()=>a(s)),fragment:t})}else this.#a.set(r,A(()=>a(this.anchor)));if(this.#s.set(e,r),f){for(const[n,i]of this.#a)n===r?e.skipped_effects.delete(i):e.skipped_effects.add(i);for(const[n,i]of this.#e)n===r?e.skipped_effects.delete(i.effect):e.skipped_effects.add(i.effect);e.oncommit(this.#i),e.ondiscard(this.#n)}else v&&(this.anchor=b),this.#i()}}function N(l,r,a=!1){v&&y();var e=new he(l),f=a?J:0;function t(s,n){if(v){const c=Q(l)===U;if(s===c){var i=V();C(i),e.anchor=i,E(!1),e.ensure(s,n),E(!0);return}}e.ensure(s,n)}G(()=>{var s=!1;r((n,i=!0)=>{s=!0,t(i,n)}),s||t(!1,null)},f)}function ue(l,r,a=!1,e=!1,f=!1){var t=l,s="";X(()=>{var n=Z;if(s===(s=r()??"")){v&&y();return}if(n.nodes!==null&&($(n.nodes.start,n.nodes.end),n.nodes=null),s!==""){if(v){b.data;for(var i=y(),c=i;i!==null&&(i.nodeType!==x||i.data!=="");)c=i,i=ee(i);if(i===null)throw se(),ae;R(b,c),t=C(i);return}var h=s+"";a?h=`<svg>${h}</svg>`:e&&(h=`<math>${h}</math>`);var o=te(h);if((a||e)&&(o=m(o)),R(m(o),o.lastChild),a||e)for(;m(o);)t.before(m(o));else t.before(o)}})}var _e=oe("<svg><!></svg>"),ve=le("<span></span>");function ye(l,r){ie(r,!0);const a={name:"",loading:null,destroyed:!1},e=q(r,["$$slots","$$events","$$legacy"]);let f=ne(0),t=M(()=>(d(f),Y(r.icon,a,n,r.onload))),s=M(()=>{const o=d(t)?L(d(t).data,e):null;return o&&d(t).classes&&e.class===void 0&&(o.attributes.class=(typeof e.class=="string"?e.class+" ":"")+d(t).classes.join(" ")),o});function n(){fe(f)}j(()=>{a.destroyed=!0,a.loading&&(a.loading.abort(),a.loading=null)});var i=I(),c=S(i);{var h=o=>{var k=I(),O=S(k);{var F=_=>{var u=_e();w(u,()=>({...d(s).attributes}));var B=ce(u);ue(B,()=>d(s).body,!0),de(u),p(_,u)},H=_=>{var u=ve();w(u,()=>({...d(s).attributes})),p(_,u)};N(O,_=>{d(s).svg?_(F):_(H,!1)})}p(o,k)};N(c,o=>{d(s)&&o(h)})}p(l,i),re()}export{ye as I,ue as h};
